# 变量功能测试指南

## 快速测试步骤

1. **启动扩展**
   - 在VS Code中打开此项目
   - 按 `F5` 启动扩展开发主机
   - 在新窗口中打开任意项目

2. **创建测试模板**
   - 按 `Ctrl+Shift+P` 打开命令面板
   - 输入 "Create Test Template" 并执行
   - 确认看到 "测试模板创建成功！" 消息

3. **测试变量替换**
   - 在编辑器中选中一些代码（用于测试 `{{selection}}` 变量）
   - 按 `Ctrl+Shift+I` 打开提示词选择器
   - 选择 "测试变量模板"
   - 依次填写所有变量：
     - **标题**: 输入任意标题（必填）
     - **项目名称**: 使用默认值或输入新值（必填）
     - **开发者姓名**: 输入开发者姓名（可选）
     - **项目开始日期**: 输入日期，格式 YYYY-MM-DD（必填）
     - **项目优先级**: 从下拉列表选择高/中/低（必填）
     - **项目类型**: 从下拉列表选择项目类型（必填）
     - **项目详细描述**: 输入多行描述（必填）
     - **预计工作时间**: 输入数字（可选）

4. **验证结果**
   - 模板应该自动复制到剪贴板
   - 粘贴查看所有变量是否正确替换
   - 检查自动变量：
     - `{{selection}}`: 应显示之前选中的代码
     - `{{filename}}`: 应显示当前文件名
     - `{{filepath}}`: 应显示当前文件完整路径

## 预期结果示例

```
# 我的测试项目

## 项目信息
- 项目名称: MyProject
- 开发者: 张三
- 开始日期: 2024-01-15
- 优先级: 高
- 项目类型: Web应用

## 描述
这是一个测试项目，用于验证变量功能是否正常工作。
支持多行文本输入。

## 当前选中的代码
```
console.log('Hello World');
```

## 文件信息
- 文件名: test.js
- 文件路径: /path/to/test.js

## 数量信息
预计工作时间: 8 小时
```

## 常见问题排查

### 1. 变量没有被替换
- 检查变量名是否正确拼写
- 确认变量定义中的 `name` 字段与模板中的 `{{name}}` 匹配

### 2. 输入对话框没有出现
- 检查是否有活动的编辑器窗口
- 尝试重新启动扩展

### 3. 自动变量（selection, filename, filepath）为空
- 确保有打开的文件
- 对于 selection，需要先选中一些文本

### 4. 类型验证失败
- 数字类型：确保输入的是有效数字
- 日期类型：确保格式为 YYYY-MM-DD
- 必填字段：确保不为空

## 调试信息

如果遇到问题，可以：
1. 打开开发者工具 (F12)
2. 查看控制台错误信息
3. 检查扩展日志输出 